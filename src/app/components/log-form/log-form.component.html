<!-- <link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
/> -->

<div id="div_page_connexion_inscription">
    <div class="form-container">
        <form class="form website_font_style">
            <h2 class="form-title">Connexion ðŸš€</h2>

            <div class="form-group" *ngIf="isLogIn">
                <label for="username">Username</label>
                <input
                    [formControl]="username"
                    id="username"
                    name="username"
                    type="text"
                    placeholder="Enter your username"
                    class="input"
                />
                <p
                    class="error"
                    [hidden]="username.valid || username.pristine"
                    [appPopupError]="username.errors"
                ></p>
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input
                    [formControl]="email"
                    id="email"
                    name="email"
                    type="email"
                    placeholder="Enter your email"
                    class="input"
                />
                <p
                    class="error"
                    [hidden]="email.valid || email.pristine"
                    [appPopupError]="email.errors"
                ></p>
            </div>

            <div class="form-group relative">
                <label for="password">Password</label>
                <input
                    [formControl]="password"
                    appPassValidator="password"
                    id="password"
                    name="password"
                    type="password"
                    placeholder="Enter your password"
                    class="input"
                />
                <span
                    (click)="toggleVisibility('password')"
                    class="material-symbols-outlined icon"
                >
                    {{ passwordVisible ? "visibility_off" : "visibility" }}
                </span>
                <p
                    class="error"
                    [hidden]="password.valid || password.pristine"
                    [appPopupError]="password.errors"
                ></p>   
            </div>

            <div class="form-group relative" *ngIf="isLogIn">
                <label for="confirm-password">Confirm Password</label>
                <input
                    [formControl]="rePassword"
                    [appPassValidator]="password.value"
                    id="confirm-password"
                    name="confirm-password"
                    type="password"
                    placeholder="Confirm your password"
                    class="input"
                />
                <span
                    (click)="toggleVisibility('confirm-password')"
                    class="material-symbols-outlined icon"
                >
                    {{ confirmPasswordVisible ? "visibility_off" : "visibility" }}
                </span>
                <p
                    class="error"
                    [hidden]="rePassword.valid || rePassword.pristine"
                    [appPopupError]="rePassword.errors"
                ></p>
            </div>

            <button
            *ngIf="isLogIn"
            (click)="submitSignUp()"
            type="submit"
            class="submit-button"
            >
            Creer un compte ðŸš€
            </button>

            <button
            *ngIf="!isLogIn"
            (click)="submitLogIn()"
            type="submit"
            class="submit-button"
            >
            Se connecter
            </button>

            <p *ngIf="!isLogIn">
            Vous n'avez pas de compte? <a (click)="toggleForm()">CrÃ©er un compte</a>
            </p>

            <p *ngIf="isLogIn">
            Vous avez dÃ©jÃ  un compte? <a (click)="toggleForm()">Se connecter</a>
            </p>
        </form>
    </div>
</div>